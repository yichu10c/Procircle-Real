# Generic single-database configuration with an async dbapi.

## How to create migration
1. go to `database` dir, make sure your working dir has `alembic.ini`
2. activate venv
3. make a revision
    ```
    alembic revision -m "migration title"
    ```
4. construct both `upgrade()` for deploy and `downgrade()` for revert

## How to deploy migration
- migrate to latest
    ```
    alembic upgrade head
    ```

- migrate to specific version (can check on versions py file)
    ```
    alembic upgrade <version>
    alembic upgrade 0048dbb62b9c
    ```

- migrate by step
    ```
    alembic upgrade +1
    alembic upgrade +3
    ```

## How to revert migration
```
alembic downgrade -1
```
